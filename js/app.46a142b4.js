(function(t){function e(e){for(var n,a,u=e[0],i=e[1],s=e[2],l=0,b=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&b.push(r[a][0]),r[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);d&&d(e);while(b.length)b.shift()();return o.push.apply(o,s||[]),c()}function c(){for(var t,e=0;e<o.length;e++){for(var c=o[e],n=!0,u=1;u<c.length;u++){var i=c[u];0!==r[i]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=c[0]))}return t}var n={},r={app:0},o=[];function a(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=t,a.c=n,a.d=function(t,e,c){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(c,n,function(e){return t[e]}.bind(null,n));return c},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/Carrito-Vue3/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var d=i;o.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23"),r={class:"container mw-100"},o=Object(n["f"])("h1",null,"Carrito",-1),a=Object(n["f"])("hr",null,null,-1),u={class:"row"},i={class:"col-4"},s={class:"col-8"},d=Object(n["f"])("h4",null,"Cards",-1),l={class:"row"};function b(t,e,c,b,O,f){var p=Object(n["n"])("Cart"),j=Object(n["n"])("Card");return Object(n["k"])(),Object(n["e"])("div",r,[o,a,Object(n["f"])("div",u,[Object(n["f"])("div",i,[Object(n["h"])(p)]),Object(n["f"])("div",s,[d,Object(n["f"])("div",l,[(Object(n["k"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(b.productos,(function(t){return Object(n["k"])(),Object(n["d"])(j,{key:t.id,producto:t},null,8,["producto"])})),128))])])])])}var O=c("5502"),f={class:"col-12 col-sm-4 col-md-3 col-lg-2 mb-3 mb-3"},p={class:"card"},j=["src","alt"],m={class:"card-body"},v={class:"card-title"},h={class:"card-text"},C=Object(n["g"])("$");function g(t,e,c,r,o,a){return Object(n["k"])(),Object(n["e"])("div",f,[Object(n["f"])("div",p,[Object(n["f"])("img",{src:c.producto.thumbnailUrl,alt:"".concat(c.producto.title),class:"img-card-top"},null,8,j),Object(n["f"])("div",m,[Object(n["f"])("h5",v,Object(n["o"])(c.producto.title),1),Object(n["f"])("p",h,[C,Object(n["f"])("span",null,Object(n["o"])(c.producto.precio),1)]),Object(n["f"])("button",{class:"btn btn-dark",onClick:e[0]||(e[0]=function(t){return r.addproduct(c.producto)})},"Comprar")])])])}var y={props:["producto"],setup:function(){var t=Object(O["b"])(),e=function(e){t.dispatch("addToCart",e)};return{addproduct:e}}},k=c("6b0d"),w=c.n(k);const P=w()(y,[["render",g]]);var x=P,A=(c("07ac"),{class:"my-5"}),T=Object(n["f"])("h4",null,"Carrito de compras",-1),_={class:"table"},S=Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",{scope:"col"},"#"),Object(n["f"])("th",{scope:"col"},"Item"),Object(n["f"])("th",{scope:"col"},"Cantidad"),Object(n["f"])("th",{scope:"col"},"Acción"),Object(n["f"])("th",{scope:"col"},"Total")])],-1),D={id:"items"},M={id:"footer-carrito"},I={key:0,scope:"row",colspan:"5"},V=Object(n["f"])("div",{class:"row",id:"cards"},null,-1);function $(t,e,c,r,o,a){var u=Object(n["n"])("Item"),i=Object(n["n"])("Footer");return Object(n["k"])(),Object(n["e"])("div",A,[T,Object(n["f"])("table",_,[S,Object(n["f"])("tbody",D,[(Object(n["k"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(r.items,(function(t){return Object(n["k"])(),Object(n["d"])(u,{key:t.id,items:t},null,8,["items"])})),128))]),Object(n["f"])("tfoot",null,[Object(n["f"])("tr",M,[0===Object.values(r.items).length?(Object(n["k"])(),Object(n["e"])("th",I,"Carrito vacío - comience a comprar!")):(Object(n["k"])(),Object(n["d"])(i,{key:1}))])])]),V])}var F={scope:"row"},J=Object(n["g"])("$ ");function R(t,e,c,r,o,a){return Object(n["k"])(),Object(n["e"])("tr",null,[Object(n["f"])("th",F,Object(n["o"])(c.items.id),1),Object(n["f"])("td",null,Object(n["o"])(c.items.title),1),Object(n["f"])("td",null,Object(n["o"])(c.items.cantidad),1),Object(n["f"])("td",null,[Object(n["f"])("button",{class:"btn btn-info btn-sm",onClick:e[0]||(e[0]=function(t){return r.aumentar(c.items.id)})}," + "),Object(n["f"])("button",{class:"btn btn-danger btn-sm",onClick:e[1]||(e[1]=function(t){return r.disminuir(c.items.id)})}," - ")]),Object(n["f"])("td",null,[J,Object(n["f"])("span",null,Object(n["o"])(c.items.precio*c.items.cantidad),1)])])}var U={props:{items:{}},setup:function(){var t=Object(O["b"])(),e=function(e){t.commit("setAumentar",e)},c=function(e){t.commit("setDisminuir",e)};return{aumentar:e,disminuir:c}}};const q=w()(U,[["render",R]]);var z=q,B=Object(n["f"])("th",{scope:"row",colspan:"2"},"Total productos",-1),E={class:"font-weight-bold"},G=Object(n["g"])("$ ");function H(t,e,c,r,o,a){return Object(n["k"])(),Object(n["e"])(n["a"],null,[B,Object(n["f"])("td",null,Object(n["o"])(r.totalCantidad),1),Object(n["f"])("td",null,[Object(n["f"])("button",{class:"btn btn-danger btn-sm",onClick:e[0]||(e[0]=function(){return r.vaciar&&r.vaciar.apply(r,arguments)}),id:"vaciar-carrito"}," vaciar todo ")]),Object(n["f"])("td",E,[G,Object(n["f"])("span",null,Object(n["o"])(r.totalPrecio),1)])],64)}var K=c("a1e9"),L={setup:function(){var t=Object(O["b"])(),e=Object(K["c"])((function(){return t.getters.totalCantidad})),c=Object(K["c"])((function(){return t.getters.totalPrecio})),n=function(){t.commit("setVaciarCarrito")};return{totalCantidad:e,totalPrecio:c,vaciar:n}}};const N=w()(L,[["render",H]]);var Q=N,W={components:{Item:z,Footer:Q},setup:function(){var t=Object(O["b"])(),e=Object(n["b"])((function(){return t.state.productsOnCart}));return{items:e}}};const X=w()(W,[["render",$]]);var Y=X,Z={name:"App",components:{Card:x,Cart:Y},setup:function(){var t=Object(O["b"])();Object(n["j"])((function(){t.dispatch("fetchData")}));var e=Object(n["b"])((function(){return t.state.productos}));return{productos:e}}};const tt=w()(Z,[["render",b]]);var et=tt,ct=c("1da1"),nt=c("5530"),rt=(c("96cf"),c("d3b7"),Object(O["a"])({state:{productos:[],productsOnCart:{}},mutations:{setProductos:function(t,e){t.productos=e},setAddProduct:function(t,e){t.productsOnCart[e.id]=Object(nt["a"])({},e),console.log(t.productsOnCart)},setVaciarCarrito:function(t){t.productsOnCart={}},setAumentar:function(t,e){t.productsOnCart[e].cantidad=t.productsOnCart[e].cantidad+1},setDisminuir:function(t,e){t.productsOnCart[e].cantidad=t.productsOnCart[e].cantidad-1,0==t.productsOnCart[e].cantidad&&delete t.productsOnCart[e]}},actions:{fetchData:function(t){return Object(ct["a"])(regeneratorRuntime.mark((function e(){var c,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.commit,e.prev=1,e.next=4,fetch("api.json");case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,c("setProductos",r),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))()},addToCart:function(t,e){var c=t.commit,n=t.state;n.productsOnCart.hasOwnProperty(e.id)?e.cantidad=n.productsOnCart[e.id].cantidad+1:e.cantidad=1,c("setAddProduct",e)}},getters:{totalCantidad:function(t){return Object.values(t.productsOnCart).reduce((function(t,e){var c=e.cantidad;return t+c}),0)},totalPrecio:function(t){return Object.values(t.productsOnCart).reduce((function(t,e){var c=e.cantidad,n=e.precio;return t+c*n}),0)}},modules:{}}));Object(n["c"])(et).use(rt).mount("#app")}});
//# sourceMappingURL=app.46a142b4.js.map